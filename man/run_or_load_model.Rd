% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_or_load_stan.R
\name{run_or_load_model}
\alias{run_or_load_model}
\title{Fit or load cached CmdStanR model with separate compilation and sampling}
\usage{
run_or_load_model(
  model_name,
  stan_path,
  data_list,
  chains = NULL,
  cores = NULL,
  cache_dir = "../model_fits",
  force_recompile = FALSE,
  force_resample = FALSE,
  ...
)
}
\arguments{
\item{model_name}{A short name used to save the compiled model and fit files.}

\item{stan_path}{Path to the Stan model file (.stan).}

\item{data_list}{A named list of data for the Stan model.}

\item{chains}{Number of MCMC chains (default = auto-detected).}

\item{cores}{Number of CPU cores to use (default = all available).}

\item{cache_dir}{Directory to store compiled model and fit files (default = "../model_fits").}

\item{force_recompile}{Logical, if TRUE forces recompilation even if model hash matches (default = FALSE).}

\item{force_resample}{Logical, if TRUE forces re-sampling even if fit hash matches (default = FALSE).}

\item{...}{Additional arguments passed to \code{CmdStanModel$sample()} (e.g., iter_sampling, seed, threads_per_chain).}
}
\value{
A fitted \code{CmdStanMCMC} object.
}
\description{
This function compiles a Stan model using CmdStanR (with threading support) only when the Stan file changes,
and re-samples only when the data or sampling arguments change. Cached compiled models and fits are stored
using hashes of the model, data, and sampling arguments.
}
